{% extends 'base.html' %}
{% load static %}
{% block title %}
    The Sports Doctor - Services
{% endblock title %}
{% block body %}
    <!-- service-page-section -->
    <section id="services" class="service-page-section">
        <div class="container">
            <div class="row d-inline-flex">
                <div v-for="(service, index) in services"
                     :key="service.id"
                     class="col col-lg-4 col-md-6 col-sm-12 service-block">
                    <div class="service-block-one wow fadeInUp animated animated"
                         data-wow-delay="00ms"
                         data-wow-duration="1500ms">
                        <div class="inner-box">
                            <div class="image-box">
                                <figure class="image">
                                    <a :href="service.url">
                                        <img class="service-img" :src="service.img" alt="">
                                    </a>
                                </figure>
                                <div class="icon-box">
                                    <i class="flaticon-physical"></i>
                                </div>
                            </div>
                            <div class="lower-content">
                                <h4>
                                    <a :href="service.url">[[service.title]]</a>
                                </h4>
                                <p>[[service.text]]</p>
                                <div class="link">
                                    <a :href="service.url"><i class="fas fa-chevron-circle-right"></i>Read More</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- service-page-section end -->
    <script>
        Vue.createApp({
            data() {
                return {
                    services: []
                }
            },
            created() {
                fetch("{% url 'services_data'%}")
                    .then(response => response.json())
                    .then(data => {
                        this.services = data;
                    })
                    .catch(error => {
                        console.log(error);
                    });
            },
            delimiters: ["[[", "]]"]
        }).mount("#services")
    </script>
{% endblock body %}
{% comment %} <template v-if="(index + 1) % 3 === 0 || index === services.length - 1">
</div>
<div class="row clearfix">
</template> {% endcomment %}
